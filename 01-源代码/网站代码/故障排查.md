# 故障排查指南

## 问题：无法访问 http://localhost:3002

### 可能原因

1. **开发服务器未启动**（最常见）
2. 端口被占用
3. 防火墙阻止
4. 依赖未正确安装

### 解决步骤

#### 步骤 1: 检查开发服务器是否运行

```bash
# 检查端口是否被占用
lsof -ti:3002

# 如果没有输出，说明端口未被占用，需要启动服务器
```

#### 步骤 2: 启动开发服务器

```bash
cd "/Users/luyu/CascadeProjects/Sandy的AI收藏夹/01-源代码/网站代码"
npm run dev
```

**预期输出**:
```
  ▲ Next.js 14.2.0
  - Local:        http://localhost:3002
  - Ready in X.Xs
```

#### 步骤 3: 验证服务器运行

1. 在浏览器中访问：http://localhost:3002
2. 应该能看到 "Sandy的AI收藏夹" 页面

### 常见问题

#### 问题 1: 端口被占用

**错误信息**: `Port 3002 is already in use`

**解决方案**:
1. 查找占用端口的进程：
   ```bash
   lsof -ti:3002
   ```
2. 杀死进程：
   ```bash
   kill -9 <PID>
   ```
3. 或更换端口（修改 package.json 中的 `-p 3002` 为其他端口）

#### 问题 2: 依赖未安装

**错误信息**: `Cannot find module 'next'`

**解决方案**:
```bash
cd "/Users/luyu/CascadeProjects/Sandy的AI收藏夹/01-源代码/网站代码"
npm install
```

#### 问题 3: 构建错误

**错误信息**: TypeScript 或 ESLint 错误

**解决方案**:
```bash
# 检查类型错误
npm run type-check

# 检查代码规范
npm run lint

# 修复代码格式
npm run format
```

#### 问题 4: 页面显示空白或错误

**检查清单**:
- [ ] 开发服务器是否正常运行
- [ ] 浏览器控制台是否有错误
- [ ] 终端是否有错误信息
- [ ] 文件路径是否正确

### 调试技巧

#### 1. 查看详细日志

```bash
# 启动时显示详细日志
npm run dev -- --debug
```

#### 2. 检查 Next.js 版本

```bash
npx next --version
```

#### 3. 清理缓存重新构建

```bash
# 删除 .next 目录
rm -rf .next

# 重新启动
npm run dev
```

#### 4. 检查文件权限

```bash
# 确保文件有读取权限
ls -la app/
```

### 快速检查命令

```bash
# 完整检查流程
cd "/Users/luyu/CascadeProjects/Sandy的AI收藏夹/01-源代码/网站代码"

# 1. 检查依赖
test -d node_modules && echo "✓ Dependencies installed" || npm install

# 2. 检查端口
lsof -ti:3002 && echo "⚠ Port 3002 is in use" || echo "✓ Port 3002 is available"

# 3. 类型检查
npm run type-check && echo "✓ Type check passed" || echo "✗ Type check failed"

# 4. 启动服务器
npm run dev
```

### 获取帮助

如果问题仍然存在，请检查：
1. 终端输出的错误信息
2. 浏览器控制台的错误信息
3. Next.js 官方文档：https://nextjs.org/docs



