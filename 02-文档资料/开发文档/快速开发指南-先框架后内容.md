# 快速开发指南：先框架后内容

## 开发策略

采用"先框架后内容"的开发策略：
1. **第一阶段**：使用占位数据（Mock Data）开发完整的网站框架和UI
2. **第二阶段**：接入 Contentlayer 和真实内容

## 优势

1. **快速迭代**：不需要等待内容准备，可以快速看到完整效果
2. **UI优先**：专注于UI和交互设计，不受内容限制
3. **并行开发**：UI开发和内容准备可以并行进行
4. **易于测试**：使用占位数据可以快速测试各种场景

## 开发步骤

### 步骤 1: 创建占位数据类型

```typescript
// lib/types/mock.ts
export interface MockNews {
  id: string
  title: string
  date: string
  tags: string[]
  score?: number
  summary?: string
  content: string
  thumbnail?: string
}

export interface MockNote {
  id: string
  title: string
  date: string
  tags: string[]
  source?: string
  content: string
  thumbnail?: string
}

// 占位数据
export const mockNews: MockNews[] = [
  {
    id: '1',
    title: 'DeepSeek 商业化分析',
    date: '2025-01-06',
    tags: ['AI', '商业'],
    score: 9.5,
    summary: '分析 DeepSeek 的商业化路径和策略',
    content: '正文内容...',
  },
  // ... 更多占位数据
]

export const mockNotes: MockNote[] = [
  {
    id: '1',
    title: '我的小红书笔记',
    date: '2025-01-06',
    tags: ['生活', '分享'],
    source: 'xiaohongshu',
    content: '笔记内容...',
  },
  // ... 更多占位数据
]
```

### 步骤 2: 开发组件（使用占位数据）

```typescript
// components/内容组件/文章列表.tsx
import { mockNews } from '@/lib/types/mock'

export function PostList() {
  const posts = mockNews // 使用占位数据
  
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
      {posts.map((post) => (
        <PostCard key={post.id} post={post} />
      ))}
    </div>
  )
}
```

### 步骤 3: 开发页面（使用占位数据）

```typescript
// app/page.tsx
import { mockNews } from '@/lib/types/mock'
import { Hero } from '@/components/内容组件/横幅区域'
import { PostList } from '@/components/内容组件/文章列表'

export default function HomePage() {
  const latestNews = mockNews[0] // 使用占位数据
  const popularNews = mockNews.slice(0, 4) // 使用占位数据
  const recentNews = mockNews.slice(0, 6) // 使用占位数据
  
  return (
    <div>
      <Hero 
        title={latestNews.title}
        description={latestNews.summary}
      />
      <section>
        <h2>Most Popular</h2>
        <PostList posts={popularNews} />
      </section>
      <section>
        <h2>Recent posts</h2>
        <PostList posts={recentNews} />
      </section>
    </div>
  )
}
```

### 步骤 4: 完善UI和交互

- 完善所有页面的样式
- 实现所有交互效果
- 优化响应式设计
- 添加动画和过渡效果

### 步骤 5: 接入真实内容

```typescript
// app/page.tsx（替换占位数据）
import { allNews } from 'contentlayer/generated' // 使用真实数据
import { Hero } from '@/components/内容组件/横幅区域'
import { PostList } from '@/components/内容组件/文章列表'

export default function HomePage() {
  const latestNews = allNews[0] // 使用真实数据
  const popularNews = allNews
    .sort((a, b) => (b.score || 0) - (a.score || 0))
    .slice(0, 4)
  const recentNews = allNews
    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
    .slice(0, 6)
  
  return (
    <div>
      <Hero 
        title={latestNews.title}
        description={latestNews.summary}
      />
      {/* ... */}
    </div>
  )
}
```

## 占位数据建议

### 数量建议
- **News**: 10-20 条占位数据
- **Notes**: 10-20 条占位数据
- **Pages**: 1-2 条占位数据（About 等）

### 内容建议
- 使用有意义的标题和内容
- 包含各种标签和分类
- 包含有图片和无图片的内容
- 包含不同长度的内容

### 占位数据示例

```typescript
export const mockNews: MockNews[] = [
  {
    id: '1',
    title: 'DeepSeek 商业化分析',
    date: '2025-01-06',
    tags: ['AI', '商业'],
    score: 9.5,
    summary: '分析 DeepSeek 的商业化路径和策略，探讨AI公司的盈利模式',
    content: `# DeepSeek 商业化分析

## 背景

DeepSeek 作为新兴的AI公司，其商业化路径值得关注...

## 商业化策略

1. 技术优势
2. 市场定位
3. 商业模式

## 总结

...`,
    thumbnail: '/attachments/deepseek-analysis.png',
  },
  // ... 更多示例
]
```

## 开发检查清单

### 框架开发阶段
- [ ] 占位数据类型定义完成
- [ ] 占位数据创建完成（10-20条）
- [ ] 所有组件使用占位数据开发完成
- [ ] 所有页面框架完成
- [ ] UI和交互完成
- [ ] 响应式设计完成

### 内容接入阶段
- [ ] Contentlayer 配置完成
- [ ] 测试内容创建完成
- [ ] 占位数据替换为真实数据
- [ ] 内容展示正常
- [ ] 图片路径处理完成

## 注意事项

1. **类型兼容**: 占位数据类型应与 Contentlayer 生成类型兼容
2. **接口一致**: 占位数据接口应与真实数据接口一致
3. **平滑过渡**: 从占位数据到真实数据的切换应平滑
4. **保留占位数据**: 占位数据可以保留用于开发和测试

## 最佳实践

1. **类型定义**: 先定义类型，再创建占位数据
2. **组件抽象**: 组件应抽象，不依赖具体数据源
3. **数据适配**: 使用适配器模式，统一数据接口
4. **渐进替换**: 逐步替换占位数据，而不是一次性替换

## 相关文档

- [项目迭代计划](../需求文档/项目迭代计划.md)
- [Next.js 规范](./代码规范/Next.js规范.md)
- [React 规范](./代码规范/React规范.md)



